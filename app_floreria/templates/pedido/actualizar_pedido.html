{% extends 'base.html' %}
{% block titulo %}Actualizar Pedido{% endblock %}
{% block contenido %}
<h2 class="text-success">‚úèÔ∏è Actualizar Pedido</h2>

<form method="POST" class="mt-3">
    {% csrf_token %}
    <div class="row mb-3">
        <div class="col">
            <label>Cliente:</label>
            <select name="cliente" class="form-select">
                {% for c in clientes %}
                    <option value="{{ c.id_cliente }}" {% if c.id_cliente == pedido.cliente.id_cliente %}selected{% endif %}>
                        {{ c.nombre }} {{ c.apellido }}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div class="col">
            <label>Producto:</label>
            <select name="producto" class="form-select">
                {% for p in productos %}
                    <option value="{{ p.id_producto }}" {% if p.id_producto == pedido.producto.id_producto %}selected{% endif %}>
                        {{ p.nombre }}
                    </option>
                {% endfor %}
            </select>
        </div>
    </div>

    <input type="date" name="fecha_pedido" value="{{ pedido.fecha_pedido|date:'Y-m-d' }}" class="form-control mb-2">
    <input type="date" name="fecha_entrega" value="{{ pedido.fecha_entrega|date:'Y-m-d' }}" class="form-control mb-2">
    <input type="text" name="total" value="{{ pedido.total }}" class="form-control mb-2" placeholder="Total">
    <input type="text" name="estado" value="{{ pedido.estado }}" class="form-control mb-2" placeholder="Estado">
    <input type="text" name="metodo_pago" value="{{ pedido.metodo_pago }}" class="form-control mb-2" placeholder="M√©todo de pago">
    <input type="text" name="direccion_envio" value="{{ pedido.direccion_envio }}" class="form-control mb-3" placeholder="Direcci√≥n de env√≠o">

    <button class="btn btn-success">üíæ Guardar Cambios</button>
    <a href="{% url 'ver_pedido' %}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}
